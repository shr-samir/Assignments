var g=Object.defineProperty;var k=(t,e,s)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var i=(t,e,s)=>(k(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const T="0123456789",v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",y=8;function E(t){const e=T+v;let s="";for(let r=0;r<t;r++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}class h{constructor(e="",s=!1){i(this,"id");i(this,"text");i(this,"completed");i(this,"toggleCompleted",()=>{this.completed=!this.completed});i(this,"setCompleted",(e=!0)=>{this.completed=e});i(this,"getCompleted",()=>this.completed);i(this,"setValue",e=>{this.text=e});i(this,"getValue",()=>this.text);this.id=E(y),this.text=e,this.completed=s}}class L{constructor(e){i(this,"list");i(this,"addTask",e=>(this.list.push(e),console.log(this.list),this.list));i(this,"getTaskById",e=>this.list.find(s=>s.id===e)||null);i(this,"getTaskByIndex",e=>this.list[e]||null);this.list=e||[]}removeFromList(e){const s=this.list.findIndex(r=>r.id===e);this.list.splice(s,1)}}const a=document.querySelector("#search"),u=document.querySelector("#addTask"),d=document.querySelector("#newTask"),m=document.querySelector("#taskList"),c=new L;u==null||u.addEventListener("submit",t=>{t.preventDefault(),!(!d||d.value===""||d.value===null)&&(C(d.value),f(c),d.value="")});document.addEventListener("DOMContentLoaded",()=>{JSON.parse(localStorage.getItem("taskList")||"[]").forEach(e=>{const s=new h(e.text,e.completed);c.addTask(s)}),f(c)});function C(t){const e=new h(t);return c.addTask(e),localStorage.setItem("taskList",JSON.stringify(c.list)),e}function S(t){const e=c.getTaskById(t);if(!e)throw new Error(`Task with id ${t} not found`);return e&&(e.toggleCompleted(),localStorage.setItem("taskList",JSON.stringify(c.list))),e}function w(t,e=""){const s=t.list.filter(r=>r.text.toLowerCase().includes(e.toLowerCase()));return new L(s)}function f(t){if(!m)throw new Error("DOM element not found");m.innerHTML="",t.list.forEach(e=>{const s=document.createElement("div"),r=document.createElement("label"),n=document.createElement("input"),o=document.createElement("span"),l=document.createElement("div");s.classList.add("task-item"),r.classList.add("form-control"),n.setAttribute("type","checkbox"),n.checked=e.completed,n.addEventListener("change",()=>{S(e.id)}),o.classList.add("task-item-value"),o.textContent=e.text,l.classList.add("delete"),l.innerHTML='<i class="fas fa-trash" ></i>',l.addEventListener("click",()=>{x(e.id)}),s.appendChild(r),r.appendChild(n),r.appendChild(o),s.appendChild(l),m.appendChild(s)})}a==null||a.addEventListener("input",t=>{var s;const e=(s=t.target)==null?void 0:s.value;p(e)});function p(t=""){const e=w(c,t);f(e)}p();function x(t){c.removeFromList(t),p()}
