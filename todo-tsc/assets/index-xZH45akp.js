var L=Object.defineProperty;var k=(t,e,s)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var r=(t,e,s)=>(k(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const T="0123456789",y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",E=8;function v(t){const e=T+y;let s="";for(let i=0;i<t;i++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}class p{constructor(e="",s=!1){r(this,"id");r(this,"text");r(this,"completed");r(this,"toggleCompleted",()=>{this.completed=!this.completed});r(this,"setCompleted",(e=!0)=>{this.completed=e});r(this,"getCompleted",()=>this.completed);r(this,"setValue",e=>{this.text=e});r(this,"getValue",()=>this.text);this.id=v(E),this.text=e,this.completed=s}}class h{constructor(e){r(this,"list");r(this,"addTask",e=>(this.list.push(e),console.log(this.list),this.list));r(this,"getTaskById",e=>this.list.find(s=>s.id===e)||null);r(this,"getTaskByIndex",e=>this.list[e]||null);this.list=e||[]}}const d=document.querySelector("#search"),u=document.querySelector("#addTask"),a=document.querySelector("#newTask"),m=document.querySelector("#taskList"),c=new h;u==null||u.addEventListener("submit",t=>{t.preventDefault(),!(!a||a.value===""||a.value===null)&&(C(a.value),f(c),a.value="")});document.addEventListener("DOMContentLoaded",()=>{JSON.parse(localStorage.getItem("taskList")||"[]").forEach(e=>{const s=new p(e.text,e.completed);c.addTask(s)}),f(c)});function C(t){const e=new p(t);return c.addTask(e),localStorage.setItem("taskList",JSON.stringify(c.list)),e}function S(t){const e=c.getTaskById(t);if(!e)throw new Error(`Task with id ${t} not found`);return e&&(e.toggleCompleted(),localStorage.setItem("taskList",JSON.stringify(c.list))),e}function w(t,e=""){const s=t.list.filter(i=>i.text.toLowerCase().includes(e.toLowerCase()));return new h(s)}function f(t){if(!m)throw new Error("DOM element not found");m.innerHTML="",t.list.forEach(e=>{const s=document.createElement("div"),i=document.createElement("label"),n=document.createElement("input"),o=document.createElement("span"),l=document.createElement("button");s.classList.add("task-item"),i.classList.add("form-control"),n.setAttribute("type","checkbox"),n.checked=e.completed,n.addEventListener("change",()=>{S(e.id)}),o.classList.add("task-item-value"),o.textContent=e.text,l.classList.add("delete"),l.innerHTML='<i class="fas fa-trash" ></i>',s.appendChild(i),i.appendChild(n),i.appendChild(o),s.appendChild(l),m.appendChild(s)})}d==null||d.addEventListener("input",t=>{var s;const e=(s=t.target)==null?void 0:s.value;g(e)});function g(t=""){const e=w(c,t);f(e)}g();
